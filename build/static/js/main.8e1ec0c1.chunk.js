(this["webpackJsonpfb-ui-challenge"]=this["webpackJsonpfb-ui-challenge"]||[]).push([[0],{14:function(t,e,n){},16:function(t,e,n){},18:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n.n(c),i=n(9),r=n.n(i),s=(n(14),n(3)),o=n(2),l=n(5),u=n.n(l),d=n(8),j="https://api.giphy.com/v1/gifs/search?",b="api_key=zPVSPYksxDsaKTixDPuXVRQ01Wn0HCLZ",p="https://api.giphy.com/v1/gifs/trending?";function h(){return(h=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(p).concat(b,"&limit=15&rating=g&lang=en")).then((function(t){return t.json()}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(){return(f=Object(d.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(j).concat(b,"&q=").concat(e,"&limit=15&rating=g&lang=en")).then((function(t){return t.json()}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}n(16);var g=n(0),O=function(t){var e=t.title;return Object(g.jsx)("label",{style:{display:"block",padding:"1rem 0"},children:e})},m=function(t){var e=t.post,n=t.img,c=t.setImg,a=t.type,i=t.loading;return Object(g.jsx)(g.Fragment,{children:"post"===a?i?"loading...":Object(g.jsx)("div",{className:"trendImg",children:Object(g.jsx)("img",{className:"trendImg",src:e.images.fixed_width_downsampled.url,alt:e.id,onClick:function(){var t=Object(s.a)(n);t.push(e.images.fixed_width_downsampled.url),c(t)}})}):Object(g.jsx)("div",{className:"trendImg",children:Object(g.jsx)("img",{className:"trendImg",src:e.images.fixed_width_downsampled.url,alt:e.id,style:{cursor:"not-allowed"}})},e.id)})},x=function(t){var e=t.index,n=t.item,c=t.handleStatusDelete;return Object(g.jsxs)("div",{className:"card",children:[Object(g.jsx)("button",{onClick:function(){return c(e)},style:{float:"right"},children:"X"}),Object(g.jsx)("h2",{children:n.text}),n.sources.map((function(t,e){return Object(g.jsx)("img",{src:t,alt:t},e)}))]})},v=function(t){var e=t.title,n=t.query,c=t.setShowDropDown,a=t.setTrending,i=t.handleGifInp,r=t.inpVal,s=t.handleTextInp,o=t.placeholder;return Object(g.jsx)(g.Fragment,{children:"gif"===e?Object(g.jsx)("input",{style:{width:"250px"},type:"text",value:n,placeholder:o,onFocus:function(t){c(!0),function(){return h.apply(this,arguments)}().then((function(t){return a(t.data)}))},onChange:i}):Object(g.jsx)("input",{type:"text",title:e,value:r,placeholder:o,onChange:s})})};function y(){var t=Object(c.useState)(""),e=Object(o.a)(t,2),n=e[0],a=e[1],i=Object(c.useState)(""),r=Object(o.a)(i,2),l=r[0],u=r[1],d=Object(c.useState)(!1),j=Object(o.a)(d,2),b=j[0],p=j[1],h=Object(c.useState)([]),y=Object(o.a)(h,2),w=y[0],S=y[1],k=Object(c.useState)([]),C=Object(o.a)(k,2),I=C[0],N=C[1],P=Object(c.useState)([]),D=Object(o.a)(P,2),T=D[0],A=D[1],F=Object(c.useState)([]),_=Object(o.a)(F,2),J=_[0],B=_[1],V=Object(c.useState)(!0),q=Object(o.a)(V,2),G=q[0],L=q[1],M=Object(c.useState)(!1),E=Object(o.a)(M,2),W=E[0],X=E[1];Object(c.useEffect)((function(){var t=JSON.parse(localStorage.getItem("fbPosts"))||[];B(t)}),[]);var z=function(t){var e=Object(s.a)(J).filter((function(e,n){return n!==t}));B(e),localStorage.setItem("fbPosts",JSON.stringify(e))},H=function(t){t?function(t){return f.apply(this,arguments)}(t).then((function(t){N(t.data),L(!1)})).catch((function(t){console.log(t)})):N([])},K=Object(c.useMemo)((function(){return function(t,e){var n;return function(){for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];clearTimeout(n),n=setTimeout((function(){t.apply(void 0,a)}),e)}}(H,1e3)}),[]);return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)("h1",{children:"Create a new Post"}),Object(g.jsx)(O,{title:"Add a new post"}),Object(g.jsx)(v,{inpVal:n,placeholder:"What's on your mind ?",title:"post",handleTextInp:function(t){a(t.target.value)}}),Object(g.jsx)("button",{style:{display:"block",padding:"0 1rem",margin:"1rem 0"},onClick:function(){return p(!0)},children:"Add Gifs"}),b?Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)("button",{style:{display:"block",padding:"0 1rem",margin:"1rem 0"},onClick:function(){p(!1),u("")},children:"Cancel"}),Object(g.jsx)(O,{title:"Add a gif for a final touch!"}),Object(g.jsx)(v,{title:"gif",query:l,placeholder:"Search gifs",setShowDropDown:X,handleGifInp:function(t){var e=t.target.value;u(e),K(e)},setTrending:S}),W?Object(g.jsxs)("div",{className:"dropdown",children:[Object(g.jsx)("button",{onClick:function(){X(!1),u("")},style:{float:"right"},children:"x"}),Object(g.jsx)("div",{className:"dropdownContent",children:l.length>0?I.map((function(t){return Object(g.jsx)(m,{loading:G,type:"post",post:t,img:T,setImg:A},t.id)})):w.map((function(t){return Object(g.jsx)(m,{post:t},t.id)}))})]}):null]}):null,Object(g.jsx)("button",{disabled:!Boolean(n.length),style:{display:"block",padding:"0 1rem",margin:"1rem 0"},onClick:function(){var t={sources:T,text:n};B([t].concat(Object(s.a)(J))),localStorage.setItem("fbPosts",JSON.stringify([t].concat(Object(s.a)(J)))),X(!1),p(!1),A([]),u(""),a("")},children:"Add Post"}),Object(g.jsx)("h1",{children:"My Posts"}),Boolean(J.length)?Object(g.jsx)("div",{children:J.map((function(t,e){return Object(g.jsx)(x,{item:t,index:e,handleStatusDelete:z},e)}))}):"No Posts!"]})}var w=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,i=e.getLCP,r=e.getTTFB;n(t),c(t),a(t),i(t),r(t)}))};r.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(y,{})}),document.getElementById("root")),w()}},[[18,1,2]]]);
//# sourceMappingURL=main.8e1ec0c1.chunk.js.map